<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="description" content="Charts from the Multi-Agent Programming Contest 2016 results.">
  <title>MAPC 2016 - Result Charts</title>
  <style>
    html { font-family: "Helvetica Neue", Helvetica, Arial, sans-serif }
    h3 + div { overflow: hidden }
    .chart { width: 600px; height: 371px; float: left }
  </style>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
</head>

<body>

<h1>Multi-Agent Programming Contest 2016 - Result Charts</h1>
<p>More info at <a href="https://multiagentcontest.org/2016/">multiagentcontest.org</a>.<br>
Obtain CSV files used to generate the following charts at <a href="https://github.com/Maumagnaguagno/MAPC2016_Charts">GitHub</a>.</p>

<h3>BathTUB vs Python-DTU</h3>
<div id="c1"></div>

<h3>BathTUB vs PUCRS</h3>
<div id="c2"></div>

<h3>lampe vs PUCRS</h3>
<div id="c3"></div>

<h3>Flisvos-2016 vs lampe</h3>
<div id="c4"></div>

<h3>Flisvos-2016 vs Python-DTU</h3>
<div id="c5"></div>

<h3>BathTUB vs Flisvos-2016</h3>
<div id="c6"></div>

<h3>Flisvos-2016 vs PUCRS</h3>
<div id="c7"></div>

<h3>PUCRS vs Python-DTU</h3>
<div id="c8"></div>

<h3>lampe vs Python-DTU</h3>
<div id="c9"></div>

<h3>BathTUB vs lampe</h3>
<div id="c10"></div>

<script>

google.charts.load("current", {"packages":["corechart"]});
google.charts.setOnLoadCallback(draw);

function draw() {
  drawChart("c1", 1, "day1match1 BathTUB Python-DTU/City2016_BathTUBPython-DTU_2016-tournament-sim1of3_2016-09-12_13-00.csv");
  drawChart("c1", 2, "day1match1 BathTUB Python-DTU/City2016_BathTUBPython-DTU_2016-tournament-sim2of3_2016-09-12_13-21.csv");
  drawChart("c1", 3, "day1match1 BathTUB Python-DTU/City2016_BathTUBPython-DTU_2016-tournament-sim3of3_2016-09-12_13-41.csv");

  drawChart("c2", 1, "day1match2 BathTUB PUCRS/City2016_BathTUBPUCRS_2016-tournament-sim1of3_2016-09-12_14-23.csv");
  drawChart("c2", 2, "day1match2 BathTUB PUCRS/City2016_BathTUBPUCRS_2016-tournament-sim2of3_2016-09-12_14-51.csv");
  drawChart("c2", 3, "day1match2 BathTUB PUCRS/City2016_BathTUBPUCRS_2016-tournament-sim3of3_2016-09-12_15-22.csv");

  drawChart("c3", 1, "day1match3 lampe PUCRS/City2016_lampePUCRS_2016-tournament-sim1of3_2016-09-12_16-00.csv");
  drawChart("c3", 2, "day1match3 lampe PUCRS/City2016_lampePUCRS_2016-tournament-sim2of3_2016-09-12_16-26.csv");
  drawChart("c3", 3, "day1match3 lampe PUCRS/City2016_lampePUCRS_2016-tournament-sim3of3_2016-09-12_17-08.csv");

  drawChart("c4", 1, "day1match4 Flisvos2016 lampe/City2016_Flisvos-2016lampe_2016-tournament-sim1of3_2016-09-12_13-00.csv");
  drawChart("c4", 2, "day1match4 Flisvos2016 lampe/City2016_Flisvos-2016lampe_2016-tournament-sim2of3_2016-09-12_13-08.csv");
  drawChart("c4", 3, "day1match4 Flisvos2016 lampe/City2016_Flisvos-2016lampe_2016-tournament-sim3of3_2016-09-12_13-14.csv");

  drawChart("c5", 1, "day1match5 Flisvos-2016 Python-DTU/City2016_Flisvos-2016Python-DTU_2016-tournament-sim1of3_2016-09-12_14-23.csv");
  drawChart("c5", 2, "day1match5 Flisvos-2016 Python-DTU/City2016_Flisvos-2016Python-DTU_2016-tournament-sim2of3_2016-09-12_14-32.csv");
  drawChart("c5", 3, "day1match5 Flisvos-2016 Python-DTU/City2016_Flisvos-2016Python-DTU_2016-tournament-sim3of3_2016-09-12_14-39.csv");

  drawChart("c6", 1, "day2match1 BathTUB Flisvos-2016/City2016_BathTUBFlisvos-2016_2016-tournament-sim1of3_2016-09-13_13-28.csv");
  drawChart("c6", 2, "day2match1 BathTUB Flisvos-2016/City2016_BathTUBFlisvos-2016_2016-tournament-sim2of3_2016-09-13_13-46.csv");
  drawChart("c6", 3, "day2match1 BathTUB Flisvos-2016/City2016_BathTUBFlisvos-2016_2016-tournament-sim3of3_2016-09-13_14-04.csv");

  drawChart("c7", 1, "day2match2 Flisvos-2016 PUCRS/City2016_Flisvos-2016PUCRS_2016-tournament-sim1of3_2016-09-13_14-31.csv");
  drawChart("c7", 2, "day2match2 Flisvos-2016 PUCRS/City2016_Flisvos-2016PUCRS_2016-tournament-sim2of3_2016-09-13_14-57.csv");
  drawChart("c7", 3, "day2match2 Flisvos-2016 PUCRS/City2016_Flisvos-2016PUCRS_2016-tournament-sim3of3_2016-09-13_15-23.csv");

  drawChart("c8", 1, "day2match3 PUCRS Python-DTU/City2016_PUCRSPython-DTU_2016-tournament-sim1of3_2016-09-13_16-07.csv");
  drawChart("c8", 2, "day2match3 PUCRS Python-DTU/City2016_PUCRSPython-DTU_2016-tournament-sim2of3_2016-09-13_16-32.csv");
  drawChart("c8", 3, "day2match3 PUCRS Python-DTU/City2016_PUCRSPython-DTU_2016-tournament-sim3of3_2016-09-13_16-56.csv");

  drawChart("c9", 1, "day2match4 lampe Python-DTU/City2016_lampePython-DTU_2016-tournament-sim1of3_2016-09-13_13-00.csv");
  drawChart("c9", 2, "day2match4 lampe Python-DTU/City2016_lampePython-DTU_2016-tournament-sim2of3_2016-09-13_13-54.csv");
  drawChart("c9", 3, "day2match4 lampe Python-DTU/City2016_lampePython-DTU_2016-tournament-sim3of3_2016-09-13_13-59.csv");

  drawChart("c10", 1, "day2match5 BathTUB lampe/City2016_BathTUBlampe_2016-tournament-sim1of3_2016-09-13_14-32.csv");
  drawChart("c10", 2, "day2match5 BathTUB lampe/City2016_BathTUBlampe_2016-tournament-sim2of3_2016-09-13_14-59.csv");
  drawChart("c10", 3, "day2match5 BathTUB lampe/City2016_BathTUBlampe_2016-tournament-sim3of3_2016-09-13_15-26.csv");
}

function drawChart(div, index, csv) {
  var chart_div = document.createElement("div");
  chart_div.className = "chart";
  document.getElementById(div).appendChild(chart_div);

  var xhr = new XMLHttpRequest();
  xhr.open("GET", csv);
  xhr.send(null);
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4) {
      if (xhr.status === 200) {
        data = xhr.responseText.split("\n");
        data[0] = data[0].split(",");
        for(var j = 1; j <= 1001; ++j) {
          data[j] = data[j].split(",").map(Number);
        }

        new google.visualization.AreaChart(chart_div).draw(
          google.visualization.arrayToDataTable(data), {
            title: data[0][1] + " vs " + data[0][2] + " - simulation " + index + " of 3",
            titleTextStyle: {fontSize: 16},
            hAxis: {title: "Steps"},
            vAxis: {title: "Money"}
          }
        );
      } else {
        console.log("Error: " + xhr.status + " for " + csv);
      }
    }
  };
}

</script>
</body>
</html>